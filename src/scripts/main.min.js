var url=location.href;if(-1!=url.indexOf("?")){var source="",ary=url.split("?")[1].split("&");for(i=0;i<=ary.length-1;i++)"stream"==ary[i].split("=")[0]&&(source=ary[i].split("=")[1],console.log(source)),"title"==ary[i].split("=")[0]&&(title=ary[i].split("=")[1],console.log(decodeURI(title)),document.querySelector("h1").innerText="現正播出："+decodeURI(title)),"format"==ary[i].split("=")[0]&&(format=ary[i].split("=")[1])}const video=document.querySelector("#player"),player=new Plyr(video,{captions:{active:!0,update:!0,language:"en"},controls:["play"],tooltips:{controls:!0,seek:!0},i18n:{play:"播放",pause:"暫停"}});if("hls"==format){const hls=new Hls;hls.loadSource(source),hls.attachMedia(video),window.hls=hls,player.on("languagechange",()=>{setTimeout(()=>hls.subtitleTrack=player.currentTrack,50)})}else video.src=source;